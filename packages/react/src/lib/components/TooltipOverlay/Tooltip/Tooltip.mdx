import { Story, Canvas, Meta } from "@storybook/blocks";
import * as TooltipStories from "./Tooltip.stories";

<Meta title="Components/TooltipOverlay/Tooltip" />

# Tooltip Component

The `<Tooltip>` component allows us to create a tooltip containing multiple entries, which is useful for showing the information behind a data point when interacting with a chart.

<Canvas of={TooltipStories.Default} />

The tooltip itself displays rows of [TooltipItem](?path=/docs/components-tooltipoverlay-tooltip-tooltipitem--docs) components which offer their own configuration.

### `<Tooltip>` Props

> **Note:** Normally you don't interact with the Tooltip component directly, instead letting the [TooltipOverlay](?path=/docs/components-tooltipoverlay--docs) component handle the displaying of the tooltip which provides all the required props.

| Prop            | Type     | Default                     | Note                                                                                                                           |
| --------------- | -------- | --------------------------- | ------------------------------------------------------------------------------------------------------------------------------ |
| `borderColor`   | `string` | Derived from selected datum | Controls the border color of the tooltip                                                                                       |
| `items`         | `array`  | undefined                   | The list if items that should be renders as `<TooltipItem>`s                                                                   |
| `positionStyle` | `object` | {}                          | Additional css to control the position, typically containing just the top, left, bottom, right css properties                  |
| `formatters`    | `object` | {}                          | A keyed collection of format object. Key should align with `x` or `y` fields provided to axis/scales or plots. See table below |

The contents of a format object should match:

| Prop         | Type       | Default     | Note                                                                                      |
| ------------ | ---------- | ----------- | ----------------------------------------------------------------------------------------- |
| `prefix`     | `string`   | `undefined` | A string to prefix the tooltip value with                                                 |
| `suffix`     | `string`   | `undefined` | A string to suffix the tooltip value with                                                 |
| `formatFunc` | `function` | `undefined` | A function that returns a custom tooltip value. `(name: string, value: string) => string` |

<br />

### TooltipItem Schema:

> **Note**: This is referring to the shape of the data in the Redux store. Not the `<TooltipItem>` component.

| Prop         | Type      | Note                                                    |
| ------------ | --------- | ------------------------------------------------------- |
| **`datum*`** | `object`  | The datum from the dataset that triggered the tooltip   |
| **`name*`**  | `boolean` | The name of the value/series being shown in the tooltip |
| `value`      | primitive | The value of the point to display in the tooltip        |
| `icon`       | `string`  | One of ["circle", "square", "line", "none"]             |
| `fill`       | `string`  | The colour of the series                                |

<br />
