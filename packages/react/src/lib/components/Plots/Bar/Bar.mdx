import { Story, Canvas } from "@storybook/addon-docs/blocks";

# Bar Plots

There are two different Bar based components, these include:

-   `<Bar>` - allows us to define a bar plot on our chart
-   `<Bars>` - allows us to define multiple bar series, or a stacked bar plot

> **Note**: When you are using a Bar plot you may need help the chart by specifying the type of scale. You can do this by configuring your `<XAxis>` like so `<XAxis ... scaleType="band" />`

<Canvas>
    <Story id="xycharts-bar--basic" />
</Canvas>

## `<Bar>` Component

The `<Bar>` component should be used when you want to plot a single bar plot (horizontal) on a chart.

### Props

| Prop          | Type      | Default            | Note                                                                                                         |
| ------------- | --------- | ------------------ | ------------------------------------------------------------------------------------------------------------ |
| `color`       | `string`  | Derived from Theme | Override the colour of the series                                                                            |
| **`x`\***     | `string`  | null               | The key of the field that contains the value along the x-axis.                                               |
| **`y`\***     | `string`  | null               | The key of the field that contains the value along the y-axis.                                               |
| `interactive` | `boolean` | true               | Whether the plot should be interactive. Setting this to false will disable tooltips & markers from this plot |

### Visual Styling

Most of the configuration for a `<Bar>` is similar to other plots. Currently the only styling property avaliable is the colour option.

<Canvas>
    <Story id="xycharts-bar--color" />
</Canvas>

## `<Bars>` Component

The `<Bars>` component allows us to define multiple bar series. There are three ways to combine multiple bar plots, depending on the type of bar chart you wish to produce:

-   Ratio Bars
-   Stacked Bars
-   Grouped Bars

### Props

| Prop       | Type       | Default            | Note                                                              |
| ---------- | ---------- | ------------------ | ----------------------------------------------------------------- |
| `colors`   | `string[]` | Derived from Theme | Override the colours for the series                               |
| **`xs`\*** | `string[]` | null               | The keys of the fields that contains the values along the x-axis. |
| **`y`\***  | `string`   | null               | The key of the field that contains value along the y-axis.        |
| `stacked`  | `boolean`  | false              | Whether the plots should be stacked.                              |
| `grouped`  | `boolean`  | false              | Whether the plots should be grouped together.                     |

### Ratio Charts

One way of combining Bars plots is to display one over the top of the other. This is useful if you want to show one value as a ratio of another. Remember if you do this that you need to disable the default opacity on a bar.

<Canvas>
    <Story id="xycharts-bar--ratio" />
</Canvas>

### Stacked Charts

Another way to to combine bar plots is to stack them on top of each other. To stack bar plots you **must** use the `<Bars>` (plural) component and ensure that you set stacked field `<Bars ... stacked={true} />`.

The chart will attempt to warn you, but you should also set the `aggregate` field on your X Axis/Scale as otherwise the data will overflow of the top of the scale `<XAxis ... aggregate={true} />`.

<Canvas>
    <Story id="xycharts-bar--stacked" />
</Canvas>

### Grouped Charts

Another way to to combine bar plots is to group them together in multiple series. To group bar plots you **must** use the `<Bars>` (plural) component and ensure that you set grouped field `<Bars ... grouped={true} />`.

<Canvas>
    <Story id="xycharts-bar--grouped" />
</Canvas>
