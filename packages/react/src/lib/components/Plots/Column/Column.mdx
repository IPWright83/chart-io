import { Story, Canvas } from "@storybook/addon-docs/blocks";

# Columns Plots

There are two different Column based components, these include:

-   `<Column>` - allows us to define a column plot on our chart
-   `<Columns>` - allows us to define multiple column series, or a stacked column plot

> **Note**: When you are using a Column plot you may need help the chart by specifying the type of scale. You can do this by configuring your `<YAxis>` like so `<YAxis ... scaleType="band" />`

<Canvas>
    <Story id="xycharts-column--basic" />
</Canvas>

## `<Column>` Component

The `<Column>` component should be used when you want to plot a single column plot (vertical) on a chart.

### Props

| Prop          | Type      | Default            | Note                                                                                                         |
| ------------- | --------- | ------------------ | ------------------------------------------------------------------------------------------------------------ |
| `color`       | `string`  | Derived from Theme | Override the colour of the series                                                                            |
| **`x`\***     | `string`  | null               | The key of the field that contains the value along the x-axis.                                               |
| **`y`\***     | `string`  | null               | The key of the field that contains the value along the y-axis.                                               |
| `interactive` | `boolean` | true               | Whether the plot should be interactive. Setting this to false will disable tooltips & markers from this plot |

## Visual Styling

Most of the configuration for a `<Column>` is similar to other plots. Currently the only styling property avaliable is the colour option.

<Canvas>
    <Story id="xycharts-column--color" />
</Canvas>

## `<Columns>` Component

The `<Columns>` component allows us to define multiple column series. There are three ways to combine multiple column plots, depending on the type of column chart you wish to produce:

-   Ratio Columns
-   Stacked Columns
-   Grouped Columns

### Props

| Prop       | Type       | Default            | Note                                                           |
| ---------- | ---------- | ------------------ | -------------------------------------------------------------- |
| `colors`   | `string[]` | Derived from Theme | Override the colours for the series                            |
| **`x`\***  | `string`   | null               | The key of the field that contains the value along the x-axis. |
| **`ys`\*** | `string[]` | null               | The keys of the fields that contains values along the y-axis.  |
| `stacked`  | `boolean`  | false              | Whether the plots should be stacked.                           |
| `grouped`  | `boolean`  | false              | Whether the plots should be grouped together.                  |

### Ratio Charts

One way of combining Column plots is to display one over the top of the other. This is useful if you want to show one value as a ratio of another.

<Canvas>
    <Story id="xycharts-column--ratio" />
</Canvas>

### Stacked Charts

Another way to to combine column plots is to stack them on top of each other. To stack column plots you **must** use the `<Columns>` (plural) component and ensure that you set stacked field `<Columns ... stacked={true} />`.

The chart will attempt to warn you, but you should also set the `aggregate` field on your Y Axis/Scale as otherwise the data will overflow of the top of the scale `<YAxis ... aggregate={true} />`.

<Canvas>
    <Story id="xycharts-column--stacked" />
</Canvas>

### Grouped Charts

Another way to to combine column plots is to group them together in multiple series. To group column plots you **must** use the `<Columns>` (plural) component and ensure that you set grouped field `<Columns ... grouped={true} />`.

<Canvas>
    <Story id="xycharts-column--grouped" />
</Canvas>
