import { Story, Canvas } from "@storybook/addon-docs/blocks";

# Bar Component

The `<Bar>` component allows us to define a bar plot on our chart.

<Canvas>
    <Story id="xycharts-bar--basic" />
</Canvas>

### Props

Also includes all props from [XY Plot Components API](XYPlot.md)

| Prop           | Type          | Default            | Note                                                                                                         |
| -------------- | ------------- | ------------------ | ------------------------------------------------------------------------------------------------------------ |
| `color`        | `string`      | Derived from Theme | The colour of the data.                                                                                      |
| `layer`\*      | `HTMLElement` |                    | This is an _internal_ field and should not need setting manually. It is populated `withSVG` or `withCanvas`. |
| `x`\*          | `string`      | null               | The key of the field that contains the value along the x-axis.                                               |
| `y`\*          | `string`      | null               | The key of the field that contains the value along the y-axis.                                               |
| `onMouseOver`  | `Function`    | `() => {}`         | Event handler to call when the mouse enter a DataPoint.                                                      |
| `onMouseOut`   | `Function`    | `() => {}`         | Event handler to call when the mouse exits a DataPoint.                                                      |
| `onMouseClick` | `Function`    | `() => {}`         | Event handler to call when the mouse clicks a DataPoint.                                                     |

#### Scale

When you are using a Bar chart you may need help the chart by specifying the type of scale. You can do this by configuring your `<YAxis>` like so `<YAxis ... scaleType="band" />`

## Visual Styling

Most of the configuration for a `<Bar>` is similar to other plots. Currently the only styling property avaliable is the colour option.

<Canvas>
    <Story id="xycharts-bar--color" />
</Canvas>

## Multiple Series

There are three ways to go about defining multiple bar plots, depending on the type of bar chart you wish to produce.

-   Ratio Bars
-   Stacked Bars
-   Grouped Bars

### Ratio Charts

One way of combining Bars plots is to display one over the top of the other. This is useful if you want to show one value as a ratio of another.

<Canvas>
    <Story id="xycharts-bar--ratio" />
</Canvas>

### Stacked Charts

Another way to to combine bar plots is to stack them on top of each other. To stack bar plots you **must** use the `<Bars>` (plural) component and ensure that you set stacked field `<Bars ... stacked={true} />`.

The chart will attempt to warn you, but you should also set the `aggregate` field on your X Axis/Scale as otherwise the data will overflow of the top of the scale `<XAxis ... aggregate={true} />`.

<Canvas>
    <Story id="xycharts-bar--stacked" />
</Canvas>

### Grouped Charts

Another way to to combine bar plots is to group them together in multiple series. To group bar plots you **must** use the `<Bars>` (plural) component and ensure that you set grouped field `<Bars ... grouped={true} />`.

<Canvas>
    <Story id="xycharts-bar--grouped" />
</Canvas>
