<!--- Line.stories.mdx --->

import { Meta, Story, Canvas } from "@storybook/addon-docs/blocks";

import { defaultArgTypes } from "./defaultArgTypes";
import { defaultArgs } from "./defaultArgs";
import { seriesArgTypes } from "../seriesArgTypes";
import { sales_records_dataset } from "../sales_records_dataset";
import { Chart, XAxis, YAxis, Line, Lines } from "../../src/components";

export const lineArgTypes = {
    ...defaultArgTypes,
};

<Meta title="XYCharts/4. Line" component={Line} argTypes={lineArgTypes} />

export const LineTemplate = (args) => (
    <Chart {...args} data={sales_records_dataset}>
        <Line
            x={args.x}
            y={args.y}
            radius={args.radius}
            color={args.color}
            animationDuration={args.animationDuration}
        />
        <YAxis fields={[args.y]} />
        <XAxis fields={[args.x]} />
    </Chart>
);

# Line Component

The `<Line>` component allows us to define a line plot on our chart.

<Story
    name="Basic Line"
    args={{
        ...defaultArgs,
        width: 800,
    }}
>
    {LineTemplate.bind({})}
</Story>

## Visual Styling

Most of the configuration for a `<Line>` is similar to other plots. Currently the only styling property avaliable is the colour option.

<Story
    name="Line Color configuration"
    args={{
        ...defaultArgs,
        width: 800,
        color: "orange",
    }}
>
    {LineTemplate.bind({})}
</Story>

## Multiple Series

There are two ways to go about defining multiple line plots. The simplest way is to use the `<Lines>` (plural) component. The `<Lines>` component allows us to define multiple series at once and takes care of automaticallying layering and assigning colors.

The long hand way is to define each `<Line>`, and configure with a colour manually. The only advantage to this approach is if you wish to control other settings (such as events) differently between the plots.

The results of either approach, render in exactly the same way:

export const scattersArgTypes = {
    ...defaultArgTypes,
    y2: seriesArgTypes,
    y3: seriesArgTypes,
};

export const LinesTemplate = (args) => (
    <Chart {...args} data={sales_records_dataset}>
        <Lines x={args.x} ys={[args.y, args.y2, args.y3]} animationDuration={args.animationDuration} />
        <YAxis fields={[args.y, args.y2, args.y3]} />
        <XAxis fields={[args.x]} />
    </Chart>
);

export const MultipleLineTemplate = (args) => (
    <Chart {...args} data={sales_records_dataset}>
        <Line x={args.x} y={args.y} color={args.color} animationDuration={args.animationDuration} />
        <Line x={args.x} y={args.y2} color={args.color2} animationDuration={args.animationDuration} />
        <Line x={args.x} y={args.y3} color={args.color3} animationDuration={args.animationDuration} />
        <YAxis fields={[args.y, args.y2, args.y3]} />
        <XAxis fields={[args.x]} />
    </Chart>
);

<Canvas>
    <Story
        name="Multiple Series - Lines"
        args={{
            ...defaultArgs,
            width: 400,
            y2: "Total Revenue",
            y3: "Total Cost",
        }}
    >
        {LinesTemplate.bind({})}
    </Story>
    <Story
        name="Multiple Series - Line"
        args={{
            ...defaultArgs,
            width: 400,
            color2: "#FF7F28",
            color3: "#00A230",
            y2: "Total Revenue",
            y3: "Total Cost",
        }}
    >
        {MultipleLineTemplate.bind({})}
    </Story>
</Canvas>

#### Scale

It is however important to remember whichever approach you use to insert any additional keys that you are using into your `<YAxis>` or `<YScale>` component.

`<YAxis fields={["Total Profit", "Total Revenue", "Total Cost"]} />`
