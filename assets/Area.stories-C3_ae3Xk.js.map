{"version":3,"file":"Area.stories-C3_ae3Xk.js","sources":["../../src/lib/components/Plots/Area/Area.stories.tsx"],"sourcesContent":["import type { Meta } from \"@storybook/react\";\nimport { expect, fn, within } from \"@storybook/test\";\nimport React, { useMemo } from \"react\";\n\nimport { waves } from \"../../../../data/waves\";\nimport { argTypes } from \"../../../../storybook/argTypes\";\nimport { createEventReceiverTest } from \"../../../testUtils\";\nimport { XAxis, YAxis } from \"../../Axis\";\nimport { XYChart } from \"../../XYChart\";\nimport { Area } from \"./Area\";\nimport { Areas } from \"./Areas\";\n\nconst { width, height, margin, useCanvas, theme, color } = argTypes;\n\nexport default {\n  title: \"XYCharts/Area\",\n  component: Area,\n  parameters: {\n    docs: {\n      transformSource: (src) => {\n        src = src.replace(/data={\\[.*?\\]}/gs, \"data={[ ...dataset ]}\");\n        src = src.replaceAll(/undefined,?/g, \"\");\n        src = src.replace(/^\\s*\\n/gm, \"\");\n        return src;\n      },\n    },\n    chromatic: { delay: 300 },\n  },\n  args: {\n    onClick: fn(),\n    onMouseOver: fn(),\n    onMouseOut: fn(),\n  },\n  argTypes: {\n    useCanvas,\n    width,\n    height,\n    theme,\n    color,\n    leftMargin: margin,\n    rightMargin: margin,\n    topMargin: margin,\n    bottomMargin: margin,\n  },\n} as Meta<typeof Area>;;\n\nconst AreaTemplate = (args) => (\n  <XYChart\n    data={waves}\n    plotMargin={{\n      left: args.leftMargin,\n      right: args.rightMargin,\n      top: args.topMargin,\n      bottom: args.bottomMargin,\n    }}\n    height={args.height}\n    width={args.width}\n    animationDuration={args.animationDuration}\n    useCanvas={args.useCanvas}\n    zoomBrush={args.zoomBrush}\n  >\n    <Area x={args.x} y={args.y} y2={args.y2} color={args.color} />\n    <YAxis fields={[args.y]} />\n    <XAxis fields={[args.x]} />\n  </XYChart>\n);\n\nconst AreasTemplate = (args) => (\n  <XYChart\n    plotMargin={{\n      left: args.leftMargin,\n      right: args.rightMargin,\n      top: args.topMargin,\n      bottom: args.bottomMargin,\n    }}\n    data={waves}\n    height={args.height}\n    width={args.width}\n    animationDuration={args.animationDuration}\n    useCanvas={args.useCanvas}\n    theme={args.theme}\n    onClick={args.onClick}\n    onMouseOver={args.onMouseOver}\n    onMouseOut={args.onMouseOut}\n    zoomBrush={args.zoomBrush}\n    groupEvents={args.groupEvents}\n  >\n    <YAxis fields={[args.y, args.y2]} />\n    <XAxis fields={[args.x]} />\n    <Areas x={args.x} ys={[args.y, args.y2]} />\n  </XYChart>\n);\n\nconst StackedAreasTemplate = (args) => {\n  return (\n    <XYChart\n      plotMargin={{\n        left: args.leftMargin,\n        right: args.rightMargin,\n        top: args.topMargin,\n        bottom: args.bottomMargin,\n      }}\n      data={waves}\n      height={args.height}\n      width={args.width}\n      animationDuration={args.animationDuration}\n      theme={args.theme}\n      useCanvas={args.useCanvas}\n      onClick={args.onClick}\n      onMouseOver={args.onMouseOver}\n      onMouseOut={args.onMouseOut}\n      zoomBrush={args.zoomBrush}\n    >\n      <YAxis fields={[args.y, args.y2]} aggregate={true} />\n      <XAxis fields={[args.x]} />\n      <Areas x={args.x} ys={[args.y, args.y2]} stacked={true} />\n    </XYChart>\n  );\n};\n\nexport const Basic = {\n  name: \"Basic Plot\",\n  render: AreaTemplate,\n  args: {\n    useCanvas: false,\n    width: 800,\n    height: 500,\n    animationDuration: 250,\n    color: \"#99C1DC\",\n    theme: \"light\",\n    leftMargin: 70,\n    rightMargin: 40,\n    topMargin: 40,\n    bottomMargin: 40,\n    y: \"sin\",\n    x: \"x\",\n    y2: undefined,\n  },\n  play: createEventReceiverTest(\n    { clientX: 273, clientY: 408 },\n    async (canvasElement) => {\n      const canvas = within(canvasElement);\n\n      const tooltip = canvasElement.querySelector(\".tooltip-item\");\n      expect(tooltip).toBeDefined();\n    },\n  ),\n};\n\nexport const Color = {\n  name: \"Custom Color\",\n  render: AreaTemplate,\n  args: {\n    ...Basic.args,\n    color: \"orange\",\n  },\n};\n\nexport const Stream = {\n  name: \"Stream Graph\",\n  render: AreaTemplate,\n  args: {\n    ...Basic.args,\n    y2: \"cos\",\n  },\n};\n\nexport const Canvas = {\n  name: \"Using Canvas\",\n  render: AreaTemplate,\n  args: {\n    ...Basic.args,\n    useCanvas: true,\n  },\n  play: createEventReceiverTest(\n    { clientX: 273, clientY: 408 },\n    async (canvasElement) => {\n      const canvas = within(canvasElement);\n\n      const tooltip = canvasElement.querySelector(\".tooltip-item\");\n      expect(tooltip).toBeDefined();\n    },\n  ),\n};\n\nexport const AreaWithBrush = {\n  name: \"Area with Brush\",\n  render: AreaTemplate,\n  args: {\n    ...Basic.args,\n    zoomBrush: \"inline\",\n    bottomMargin: 10,\n  },\n};\n\nexport const MultipleAreas = {\n  name: \"Mutiple Area Plots\",\n  render: AreasTemplate,\n  args: {\n    ...Basic.args,\n    y: \"sin\",\n    y2: \"cos\",\n  },\n  play: createEventReceiverTest(\n    { clientX: 273, clientY: 408 },\n    async (canvasElement) => {\n      const canvas = within(canvasElement);\n\n      const tooltip = canvasElement.querySelector(\".tooltip-item\");\n      expect(tooltip).toBeDefined();\n    },\n  ),\n};\n\nexport const MultipleAreasGrouped = {\n  name: \"Mutiple Area Plots with Grouped Tooltips\",\n  render: AreasTemplate,\n  args: {\n    ...Basic.args,\n    groupEvents: true,\n    y: \"sin\",\n    y2: \"cos\",\n  },\n  play: createEventReceiverTest(\n    { clientX: 273, clientY: 408 },\n    async (canvasElement) => {\n      const canvas = within(canvasElement);\n\n      const tooltip = canvasElement.querySelector(\".tooltip-item\");\n      expect(tooltip).toBeDefined();\n    },\n  ),\n};\n\nexport const StackedAreas = {\n  name: \"Stacked Area Plots\",\n  render: StackedAreasTemplate,\n  args: {\n    ...Basic.args,\n    y: \"sin\",\n    y2: \"cos\",\n  },\n  play: createEventReceiverTest(\n    { clientX: 273, clientY: 408 },\n    async (canvasElement) => {\n      const canvas = within(canvasElement);\n\n      const tooltip = canvasElement.querySelector(\".tooltip-item\");\n      expect(tooltip).toBeDefined();\n    },\n  ),\n};\n\nexport const StackedAreasWithBrush = {\n  name: \"Stacked Area Plots with a Brush\",\n  render: StackedAreasTemplate,\n  args: {\n    ...Basic.args,\n    y: \"sin\",\n    y2: \"cos\",\n    zoomBrush: \"inline\",\n    bottomMargin: 10,\n  },\n};\n"],"names":["width","height","margin","useCanvas","theme","color","argTypes","Area_stories","title","component","Area","parameters","docs","transformSource","src","replace","replaceAll","chromatic","delay","args","onClick","fn","onMouseOver","onMouseOut","leftMargin","rightMargin","topMargin","bottomMargin","AreaTemplate","jsxs","XYChart","waves","left","right","top","bottom","animationDuration","zoomBrush","jsx","x","y","y2","YAxis","XAxis","AreasTemplate","groupEvents","Areas","StackedAreasTemplate","Basic","name","render","undefined","play","createEventReceiverTest","clientX","clientY","canvasElement","within","tooltip","querySelector","toBeDefined","Color","Stream","Canvas","AreaWithBrush","MultipleAreas","MultipleAreasGrouped","StackedAreas","StackedAreasWithBrush","source","originalSource"],"mappings":"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"}