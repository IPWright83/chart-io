import{j as v}from"./jsx-runtime-BjG_zV1W.js";import{d as M,u as A,a as d,e as h,i as y,f as H}from"./react-redux-QXbQKOoW.js";import{r as f,R as k}from"./index-DpTt3J-R.js";import{c as z}from"./index-CRk78wGA.js";import{w as I}from"./index-_rl-6daV.js";function C(){var l="/home/runner/work/chart-io/chart-io/packages/react/src/lib/components/ZoomBrush/constants.ts",i="4b4d793b8ddefdc1418d70d5c8425f27ced748b6",c=window,t="__coverage__",r={path:"/home/runner/work/chart-io/chart-io/packages/react/src/lib/components/ZoomBrush/constants.ts",statementMap:{0:{start:{line:1,column:36},end:{line:1,column:78}}},fnMap:{},branchMap:{},s:{0:0},f:{},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/chart-io/chart-io/packages/react/src/lib/components/ZoomBrush/constants.ts"],names:[],mappings:"AAAO,aAAM,uBAAuB,EAAE,MAAM,GAAG,KAAK,IAAI,OAAO,GAAG,QAAQ,GAAG;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4b4d793b8ddefdc1418d70d5c8425f27ced748b6"},o=c[t]||(c[t]={});(!o[l]||o[l].hash!==i)&&(o[l]=r);var a=o[l];return C=function(){return a},a}C();const S=(C().s[0]++,{left:0,top:10,right:0,bottom:10});function n(){var l="/home/runner/work/chart-io/chart-io/packages/react/src/lib/components/ZoomBrush/HorizontalZoomBrush/HorizontalZoomBrush.tsx",i="686300ba214b4f9d3212e0109fd9978569f02012",c=window,t="__coverage__",r={path:"/home/runner/work/chart-io/chart-io/packages/react/src/lib/components/ZoomBrush/HorizontalZoomBrush/HorizontalZoomBrush.tsx",statementMap:{0:{start:{line:13,column:16},end:{line:13,column:41}},1:{start:{line:14,column:12},end:{line:14,column:42}},2:{start:{line:14,column:29},end:{line:14,column:38}},3:{start:{line:15,column:13},end:{line:15,column:58}},4:{start:{line:15,column:34},end:{line:15,column:57}},5:{start:{line:16,column:16},end:{line:16,column:24}},6:{start:{line:17,column:19},end:{line:17,column:32}},7:{start:{line:18,column:17},end:{line:18,column:82}},8:{start:{line:18,column:36},end:{line:18,column:81}},9:{start:{line:19,column:15},end:{line:19,column:73}},10:{start:{line:19,column:34},end:{line:19,column:72}},11:{start:{line:20,column:16},end:{line:20,column:75}},12:{start:{line:20,column:35},end:{line:20,column:74}},13:{start:{line:21,column:17},end:{line:21,column:77}},14:{start:{line:21,column:36},end:{line:21,column:76}},15:{start:{line:22,column:21},end:{line:22,column:81}},16:{start:{line:22,column:40},end:{line:22,column:80}},17:{start:{line:23,column:2},end:{line:25,column:23}},18:{start:{line:24,column:4},end:{line:24,column:77}},19:{start:{line:26,column:2},end:{line:29,column:30}},20:{start:{line:27,column:27},end:{line:27,column:56}},21:{start:{line:28,column:4},end:{line:28,column:92}},22:{start:{line:30,column:2},end:{line:32,column:11}},23:{start:{line:31,column:4},end:{line:31,column:98}},24:{start:{line:31,column:24},end:{line:31,column:96}},25:{start:{line:33,column:2},end:{line:53,column:53}},26:{start:{line:34,column:4},end:{line:52,column:5}},27:{start:{line:35,column:21},end:{line:50,column:8}},28:{start:{line:36,column:23},end:{line:36,column:38}},29:{start:{line:37,column:8},end:{line:40,column:9}},30:{start:{line:38,column:10},end:{line:38,column:76}},31:{start:{line:39,column:10},end:{line:39,column:17}},32:{start:{line:41,column:8},end:{line:44,column:9}},33:{start:{line:42,column:10},end:{line:42,column:88}},34:{start:{line:43,column:10},end:{line:43,column:17}},35:{start:{line:45,column:23},end:{line:48,column:9}},36:{start:{line:49,column:8},end:{line:49,column:66}},37:{start:{line:51,column:6},end:{line:51,column:44}},38:{start:{line:54,column:21},end:{line:62,column:3}},39:{start:{line:55,column:21},end:{line:61,column:6}},40:{start:{line:63,column:2},end:{line:63,column:201}},41:{start:{line:65,column:0},end:{line:71,column:50}},42:{start:{line:67,column:4},end:{line:67,column:60}},43:{start:{line:69,column:4},end:{line:69,column:699}}},fnMap:{0:{name:"HorizontalZoomBrush",decl:{start:{line:8,column:16},end:{line:8,column:35}},loc:{start:{line:12,column:3},end:{line:64,column:1}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:14,column:22},end:{line:14,column:23}},loc:{start:{line:14,column:29},end:{line:14,column:38}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:15,column:27},end:{line:15,column:28}},loc:{start:{line:15,column:34},end:{line:15,column:57}},line:15},3:{name:"(anonymous_3)",decl:{start:{line:18,column:29},end:{line:18,column:30}},loc:{start:{line:18,column:36},end:{line:18,column:81}},line:18},4:{name:"(anonymous_4)",decl:{start:{line:19,column:27},end:{line:19,column:28}},loc:{start:{line:19,column:34},end:{line:19,column:72}},line:19},5:{name:"(anonymous_5)",decl:{start:{line:20,column:28},end:{line:20,column:29}},loc:{start:{line:20,column:35},end:{line:20,column:74}},line:20},6:{name:"(anonymous_6)",decl:{start:{line:21,column:29},end:{line:21,column:30}},loc:{start:{line:21,column:36},end:{line:21,column:76}},line:21},7:{name:"(anonymous_7)",decl:{start:{line:22,column:33},end:{line:22,column:34}},loc:{start:{line:22,column:40},end:{line:22,column:80}},line:22},8:{name:"(anonymous_8)",decl:{start:{line:23,column:12},end:{line:23,column:13}},loc:{start:{line:23,column:18},end:{line:25,column:3}},line:23},9:{name:"(anonymous_9)",decl:{start:{line:26,column:12},end:{line:26,column:13}},loc:{start:{line:26,column:18},end:{line:29,column:3}},line:26},10:{name:"(anonymous_10)",decl:{start:{line:30,column:12},end:{line:30,column:13}},loc:{start:{line:30,column:18},end:{line:32,column:3}},line:30},11:{name:"(anonymous_11)",decl:{start:{line:31,column:15},end:{line:31,column:16}},loc:{start:{line:31,column:24},end:{line:31,column:96}},line:31},12:{name:"(anonymous_12)",decl:{start:{line:33,column:12},end:{line:33,column:13}},loc:{start:{line:33,column:18},end:{line:53,column:3}},line:33},13:{name:"(anonymous_13)",decl:{start:{line:35,column:96},end:{line:35,column:97}},loc:{start:{line:35,column:107},end:{line:50,column:7}},line:35},14:{name:"(anonymous_14)",decl:{start:{line:55,column:4},end:{line:55,column:5}},loc:{start:{line:55,column:21},end:{line:61,column:6}},line:55}},branchMap:{0:{loc:{start:{line:10,column:2},end:{line:10,column:13}},type:"default-arg",locations:[{start:{line:10,column:11},end:{line:10,column:13}}],line:10},1:{loc:{start:{line:11,column:2},end:{line:11,column:31}},type:"default-arg",locations:[{start:{line:11,column:11},end:{line:11,column:31}}],line:11},2:{loc:{start:{line:15,column:34},end:{line:15,column:57}},type:"binary-expr",locations:[{start:{line:15,column:34},end:{line:15,column:43}},{start:{line:15,column:47},end:{line:15,column:57}}],line:15},3:{loc:{start:{line:27,column:27},end:{line:27,column:56}},type:"cond-expr",locations:[{start:{line:27,column:46},end:{line:27,column:52}},{start:{line:27,column:55},end:{line:27,column:56}}],line:27},4:{loc:{start:{line:34,column:4},end:{line:52,column:5}},type:"if",locations:[{start:{line:34,column:4},end:{line:52,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},5:{loc:{start:{line:37,column:8},end:{line:40,column:9}},type:"if",locations:[{start:{line:37,column:8},end:{line:40,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},6:{loc:{start:{line:37,column:12},end:{line:37,column:30}},type:"binary-expr",locations:[{start:{line:37,column:12},end:{line:37,column:19}},{start:{line:37,column:23},end:{line:37,column:30}}],line:37},7:{loc:{start:{line:41,column:8},end:{line:44,column:9}},type:"if",locations:[{start:{line:41,column:8},end:{line:44,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:41}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},b:{0:[0],1:[0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/chart-io/chart-io/packages/react/src/lib/components/ZoomBrush/HorizontalZoomBrush/HorizontalZoomBrush.tsx"],names:[],mappings:"AA0HQ;AA1HR;AACA;AAGA;AACA;AAEA;AACA;AA4BO;AAA6B;AAChC;AACS;AAEb;AACI;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACI;AAAuE;AAI3E;AACI;AACA;AAAsF;AAG1F;AACI;AAA4F;AAGhG;AAEI;AAEI;AAIQ;AAGA;AACI;AACA;AAAA;AAIJ;AACI;AACA;AAAA;AAQJ;AAAe;AACkC;AACA;AAEjD;AAAwD;AAGhE;AAAoC;AACxC;AAMJ;AAAyB;AACI;AAChB;AACS;AACD;AACF;AACH;AACX;AAGL;AAOJ;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"686300ba214b4f9d3212e0109fd9978569f02012"},o=c[t]||(c[t]={});(!o[l]||o[l].hash!==i)&&(o[l]=r);var a=o[l];return n=function(){return a},a}n();function B({children:l,height:i=(n().b[0][0]++,60),margin:c=(n().b[1][0]++,S)}){n().f[0]++;const t=(n().s[0]++,z(l)),r=(n().s[1]++,t.map(e=>(n().f[1]++,n().s[2]++,e.props.x))[0]),o=(n().s[3]++,t.flatMap(e=>(n().f[2]++,n().s[4]++,n().b[2][0]++,e.props.y??(n().b[2][1]++,e.props.ys)))),a=(n().s[5]++,f.useRef()),s=(n().s[6]++,M()),u=(n().s[7]++,A(e=>(n().f[3]++,n().s[8]++,d.scales.getScale(e,r,"brush")))),m=(n().s[9]++,A(e=>(n().f[4]++,n().s[10]++,d.dimensions.plot.left(e)))),p=(n().s[11]++,A(e=>(n().f[5]++,n().s[12]++,d.dimensions.plot.right(e)))),x=(n().s[13]++,A(e=>(n().f[6]++,n().s[14]++,d.dimensions.plot.bottom(e)))),Z=(n().s[15]++,A(e=>(n().f[7]++,n().s[16]++,d.dimensions.plot.margin(e))));n().s[17]++,f.useEffect(()=>{n().f[8]++,n().s[18]++,s(h.setBrushRange({field:r,range:[m,p]}))},[r,p,m]),n().s[19]++,f.useEffect(()=>{n().f[9]++;const e=(n().s[20]++,t.length>0?(n().b[3][0]++,i):(n().b[3][1]++,0));n().s[21]++,s(h.setBrushDimensions({width:0,height:e,margin:c}))},[i,t,c]),n().s[22]++,f.useEffect(()=>{n().f[10]++,n().s[23]++,o.forEach(e=>(n().f[11]++,n().s[24]++,s(h.setBrushRange({field:e,range:[i,0]}))))},[o]),n().s[25]++,f.useEffect(()=>{if(n().f[12]++,n().s[26]++,a.current){n().b[4][0]++;const e=(n().s[27]++,y.brushX().extent([[m,0],[Math.max(m,p),i]]).on("end",b=>{n().f[13]++;const g=(n().s[28]++,b.selection);if(n().s[29]++,n().b[6][0]++,!g||(n().b[6][1]++,!u)){n().b[5][0]++,n().s[30]++,s(h.setScaleZoom({field:r,domain:void 0})),n().s[31]++;return}else n().b[5][1]++;if(n().s[32]++,u.invert)n().b[7][1]++;else{n().b[7][0]++,n().s[33]++,H("W007","An incompatible scale was used with a <HorizontalBrush>"),n().s[34]++;return}const w=(n().s[35]++,[u.invert(g[0]),u.invert(g[1])]);n().s[36]++,s(h.setScaleZoom({field:r,domain:w}))}));n().s[37]++,y.select(a.current).call(e)}else n().b[4][1]++},[s,a,i,m,p,u]);const E=(n().s[38]++,t.map((e,b)=>(n().f[14]++,n().s[39]++,k.cloneElement(e,{key:b,showInLegend:!1,interactive:!1,scaleMode:"brush",noClip:!0}))));return n().s[40]++,v.jsx(v.Fragment,{children:v.jsx("g",{ref:a,transform:`translate(${c.left}, ${x+c.top+Z.bottom})`,children:E})})}n().s[41]++;try{n().s[42]++,B.displayName="HorizontalZoomBrush",n().s[43]++,B.__docgenInfo={description:"Represents a Horizontal brush for zooming",displayName:"HorizontalZoomBrush",props:{children:{defaultValue:null,description:"The child plots for the chart",name:"children",required:!1,type:{name:"Element | Element[]"}},height:{defaultValue:{value:"60"},description:"The height that the brush should be",name:"height",required:!1,type:{name:"number"}},margin:{defaultValue:{value:"{ left: 0, top: 10, right: 0, bottom: 10 }"},description:"The margin to apply around the brush",name:"margin",required:!1,type:{name:"IMargin"}}}}}catch{}function _(){var l="/home/runner/work/chart-io/chart-io/packages/react/src/lib/components/ZoomBrush/HorizontalZoomBrush/index.ts",i="915fd9f4b98445d51f8f5e880641af7b626b6265",c=window,t="__coverage__",r={path:"/home/runner/work/chart-io/chart-io/packages/react/src/lib/components/ZoomBrush/HorizontalZoomBrush/index.ts",statementMap:{0:{start:{line:3,column:35},end:{line:3,column:92}}},fnMap:{},branchMap:{},s:{0:0},f:{},b:{},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/chart-io/chart-io/packages/react/src/lib/components/ZoomBrush/HorizontalZoomBrush/index.ts"],names:[],mappings:"AAAA,SAAS,uBAAuB,+BAA0D;AAC1F,SAAS,eAAe;AAEjB,aAAM,sBAAsB,QAAmC,yBAAyB,uBAAuB;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"915fd9f4b98445d51f8f5e880641af7b626b6265"},o=c[t]||(c[t]={});(!o[l]||o[l].hash!==i)&&(o[l]=r);var a=o[l];return _=function(){return a},a}_();const F=(_().s[0]++,I(B,"horizontal-zoom-brush"));export{S as D,F as H};
//# sourceMappingURL=index-BXRhMbPE.js.map
