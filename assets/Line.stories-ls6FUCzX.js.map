{"version":3,"file":"Line.stories-ls6FUCzX.js","sources":["../../src/lib/components/Plots/Line/Line.stories.tsx"],"sourcesContent":["import type { Meta } from \"@storybook/react\";\nimport { fn, within } from \"@storybook/test\";\nimport React from \"react\";\n\nimport { waves } from \"../../../../data/waves\";\nimport { argTypes } from \"../../../../storybook/argTypes\";\nimport { createEventReceiverTest } from \"../../../testUtils\";\nimport { XAxis, YAxis } from \"../../Axis\";\nimport { XYChart } from \"../../XYChart\";\nimport { Scatter } from \"../Scatter\";\nimport { Line } from \"./Line\";\nimport { Lines } from \"./Lines\";\n\nconst { width, height, margin, useCanvas, theme, color } = argTypes;\n\nexport default {\n  title: \"XYCharts/Line\",\n  component: Line,\n  parameters: {\n    docs: {\n      transformSource: (src) => {\n        src = src.replace(/data={\\[.*?\\]}/gs, \"data={[ ...dataset ]}\");\n        src = src.replaceAll(/undefined,?/g, \"\");\n        src = src.replace(/^\\s*\\n/gm, \"\");\n        return src;\n      },\n    },\n    chromatic: { delay: 300 },\n  },\n  args: {\n    onClick: fn(),\n    onMouseOver: fn(),\n    onMouseOut: fn(),\n  },\n  argTypes: {\n    useCanvas,\n    width,\n    height,\n    theme,\n    color,\n    leftMargin: margin,\n    rightMargin: margin,\n    topMargin: margin,\n    bottomMargin: margin,\n  },\n} as Meta<typeof Line>;\n\nconst LineTemplate = (args) => (\n  <XYChart\n    data={waves}\n    plotMargin={{\n      left: args.leftMargin,\n      right: args.rightMargin,\n      top: args.topMargin,\n      bottom: args.bottomMargin,\n    }}\n    width={args.width}\n    height={args.height}\n    animationDuration={args.animationDuration}\n    theme={args.theme}\n    useCanvas={args.useCanvas}\n    onClick={args.onClick}\n    onMouseOver={args.onMouseOver}\n    onMouseOut={args.onMouseOut}\n    zoomBrush={args.zoomBrush}\n  >\n    <Line\n      x={args.x}\n      y={args.y}\n      color={args.color}\n      interactive={!args.withScatter}\n    />\n    {args.withScatter ? <Scatter x={args.x} y={args.y} /> : null}\n    <YAxis fields={[args.y, args.y2, args.y3]} />\n    <XAxis fields={[args.x]} />\n  </XYChart>\n);\n\nconst LinesTemplate = (args) => (\n  <XYChart\n    data={waves}\n    plotMargin={{\n      left: args.leftMargin,\n      right: args.rightMargin,\n      top: args.topMargin,\n      bottom: args.bottomMargin,\n    }}\n    width={args.width}\n    height={args.height}\n    animationDuration={args.animationDuration}\n    theme={args.theme}\n    useCanvas={args.useCanvas}\n    onClick={args.onClick}\n    onMouseOver={args.onMouseOver}\n    onMouseOut={args.onMouseOut}\n    zoomBrush={args.zoomBrush}\n    groupEvents={args.groupEvents}\n  >\n    <YAxis fields={[args.y, args.y2]} />\n    <XAxis fields={[args.x]} />\n    <Lines x={args.x} ys={[args.y, args.y2]} />\n  </XYChart>\n);\n\nexport const Basic = {\n  name: \"Basic Plot\",\n  render: LineTemplate,\n  args: {\n    useCanvas: false,\n    width: 800,\n    height: 500,\n    animationDuration: 500,\n    color: \"#99C1DC\",\n    theme: \"light\",\n    leftMargin: 70,\n    rightMargin: 40,\n    topMargin: 40,\n    bottomMargin: 40,\n    y: \"sin\",\n    x: \"x\",\n  },\n  play: createEventReceiverTest(\n    { clientX: 273, clientY: 408 },\n    async (canvasElement) => {\n      const canvas = within(canvasElement);\n\n      const tooltip = canvasElement.querySelector(\".tooltip-item\");\n      expect(tooltip).toBeDefined();\n    },\n  ),\n};\n\nexport const LineWithPoints = {\n  name: \"Line with Points\",\n  render: LineTemplate,\n  args: {\n    ...Basic.args,\n    withScatter: true,\n  },\n};\n\nexport const Color = {\n  name: \"Custom Color\",\n  render: LineTemplate,\n  args: {\n    ...Basic.args,\n    color: \"orange\",\n  },\n};\n\nexport const Canvas = {\n  name: \"Using Canvas\",\n  render: LineTemplate,\n  args: {\n    ...Basic.args,\n    useCanvas: true,\n  },\n  play: createEventReceiverTest(\n    { clientX: 273, clientY: 408 },\n    async (canvasElement) => {\n      const canvas = within(canvasElement);\n\n      const tooltip = canvasElement.querySelector(\".tooltip-item\");\n      expect(tooltip).toBeDefined();\n    },\n  ),\n};\n\nexport const LineWithBrush = {\n  name: \"Line with Brush\",\n  render: LineTemplate,\n  args: {\n    ...Basic.args,\n    withScatter: true,\n    zoomBrush: \"inline\",\n  },\n};\n\nexport const MultipleLines = {\n  name: \"Multiple Line Plots\",\n  render: LinesTemplate,\n  args: {\n    ...Basic.args,\n    y: \"sin\",\n    y2: \"cos\",\n  },\n  play: createEventReceiverTest(\n    { clientX: 273, clientY: 408 },\n    async (canvasElement) => {\n      const canvas = within(canvasElement);\n\n      const tooltip = canvasElement.querySelector(\".tooltip-item\");\n      expect(tooltip).toBeDefined();\n    },\n  ),\n};\n\nexport const MultipleLinesWithGrouping = {\n  name: \"Multiple Line Plots with Grouped Tooltips\",\n  render: LinesTemplate,\n  args: {\n    ...Basic.args,\n    groupEvents: true,\n    y: \"sin\",\n    y2: \"cos\",\n  },\n  play: createEventReceiverTest(\n    { clientX: 273, clientY: 408 },\n    async (canvasElement) => {\n      const canvas = within(canvasElement);\n\n      const tooltip = canvasElement.querySelector(\".tooltip-item\");\n      expect(tooltip).toBeDefined();\n    },\n  ),\n};\n"],"names":["width","height","margin","useCanvas","theme","color","argTypes","Line_stories","title","component","Line","parameters","docs","transformSource","src","replace","replaceAll","chromatic","delay","args","onClick","fn","onMouseOver","onMouseOut","leftMargin","rightMargin","topMargin","bottomMargin","LineTemplate","jsxs","XYChart","waves","left","right","top","bottom","animationDuration","zoomBrush","jsx","x","y","withScatter","Scatter","YAxis","y2","y3","XAxis","LinesTemplate","groupEvents","Lines","Basic","name","render","play","createEventReceiverTest","clientX","clientY","canvasElement","within","tooltip","querySelector","toBeDefined","LineWithPoints","Color","Canvas","LineWithBrush","MultipleLines","MultipleLinesWithGrouping","source","originalSource"],"mappings":"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"}