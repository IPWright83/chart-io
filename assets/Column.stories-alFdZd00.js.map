{"version":3,"file":"Column.stories-alFdZd00.js","sources":["../../src/lib/components/Plots/Column/Column.stories.tsx"],"sourcesContent":["import { themes } from \"@chart-io/core\";\n\nimport type { Meta } from \"@storybook/react\";\nimport { fn } from \"@storybook/test\";\nimport React from \"react\";\n\nimport { sales_records_dataset } from \"../../../../data/sales_records_dataset\";\nimport { argTypes } from \"../../../../storybook/argTypes\";\nimport { createCanvasTest, createSVGTest } from \"../../../testUtils\";\nimport { XAxis, YAxis } from \"../../Axis\";\nimport { XYChart } from \"../../XYChart\";\nimport { Column } from \"./Column\";\nimport { Columns } from \"./Columns\";\n\nimport { uniqBy } from \"lodash\";\n\nconst { width, height, margin, useCanvas, theme, color } = argTypes;\n\nexport default {\n  title: \"XYCharts/Column\",\n  component: Column,\n  parameters: {\n    docs: {\n      transformSource: (src) => {\n        src = src.replace(/data={\\[.*?\\]}/gs, \"data={[ ...dataset ]}\");\n        src = src.replaceAll(/undefined,?/g, \"\");\n        src = src.replace(/^\\s*\\n/gm, \"\");\n        return src;\n      },\n    },\n    chromatic: { delay: 300 },\n  },\n  args: {\n    onClick: fn(),\n    onMouseOver: fn(),\n    onMouseOut: fn(),\n  },\n  argTypes: {\n    useCanvas,\n    width,\n    height,\n    theme,\n    color,\n    leftMargin: margin,\n    rightMargin: margin,\n    topMargin: margin,\n    bottomMargin: margin,\n  },\n} as Meta<typeof Column>;\n\nconst data = uniqBy(sales_records_dataset, (d) => d[\"Item Type\"]);\n\nconst ColumnTemplate = (args) => (\n  <XYChart\n    data={data}\n    plotMargin={{\n      left: args.leftMargin,\n      right: args.rightMargin,\n      top: args.topMargin,\n      bottom: args.bottomMargin,\n    }}\n    width={args.width}\n    height={args.height}\n    animationDuration={args.animationDuration}\n    useCanvas={args.useCanvas}\n    theme={args.theme}\n    onClick={args.onClick}\n    onMouseOver={args.onMouseOver}\n    onMouseOut={args.onMouseOut}\n  >\n    <YAxis fields={[args.y, args.y2, args.y3]} />\n    <XAxis fields={[args.x]} scaleType=\"band\" showGridlines={false} />\n    <Column x={args.x} y={args.y} color={args.color} />\n    {args.y2 && <Column x={args.x} y={args.y2} color={args.color2} />}\n  </XYChart>\n);\n\nconst ColumnsTemplate = (args) => (\n  <XYChart\n    data={data}\n    plotMargin={{\n      left: args.leftMargin,\n      right: args.rightMargin,\n      top: args.topMargin,\n      bottom: args.bottomMargin,\n    }}\n    width={args.width}\n    height={args.height}\n    animationDuration={args.animationDuration}\n    useCanvas={args.useCanvas}\n    theme={args.theme}\n    onClick={args.onClick}\n    onMouseOver={args.onMouseOver}\n    onMouseOut={args.onMouseOut}\n  >\n    <YAxis fields={[args.y, args.y2, args.y3]} aggregate={args.stacked} />\n    <XAxis fields={[args.x]} scaleType=\"band\" showGridlines={false} />\n    <Columns\n      x={args.x}\n      ys={[args.y, args.y2]}\n      grouped={args.grouped}\n      stacked={args.stacked}\n    />\n  </XYChart>\n);\n\nexport const Basic = {\n  name: \"Basic Plot\",\n  render: ColumnTemplate,\n  args: {\n    useCanvas: false,\n    width: 800,\n    height: 500,\n    animationDuration: 250,\n    color: \"#99C1DC\",\n    color2: \"#fc998e\",\n    leftMargin: 70,\n    rightMargin: 40,\n    topMargin: 40,\n    bottomMargin: 40,\n    y: \"Unit Price\",\n    x: \"Item Type\",\n  },\n  play: createSVGTest(\"rect.column\", { clientX: 107, clientY: 396 }),\n};\n\nexport const Color = {\n  name: \"Custom Color\",\n  render: ColumnTemplate,\n  args: {\n    ...Basic.args,\n    color: \"orange\",\n  },\n};\n\nexport const Canvas = {\n  name: \"Using Canvas\",\n  render: ColumnTemplate,\n  args: {\n    ...Basic.args,\n    useCanvas: true,\n  },\n  play: createCanvasTest({ clientX: 107, clientY: 396 }),\n};\n\nexport const Ratio = {\n  name: \"Ratio Columns\",\n  render: ColumnTemplate,\n  args: {\n    ...Basic.args,\n    y2: \"Unit Cost\",\n    theme: {\n      ...themes.light,\n      series: {\n        ...themes.light.series,\n        opacity: 1,\n      },\n    },\n  },\n};\n\nexport const Stacked = {\n  name: \"Stacked Columns\",\n  render: ColumnsTemplate,\n  args: {\n    ...Basic.args,\n    y2: \"Unit Cost\",\n    stacked: true,\n  },\n  play: createSVGTest(\"rect.column\", { clientX: 107, clientY: 396 }),\n};\n\nexport const Grouped = {\n  name: \"Grouped Columns\",\n  render: ColumnsTemplate,\n  args: {\n    ...Basic.args,\n    y2: \"Unit Cost\",\n    grouped: true,\n  },\n  play: createSVGTest(\"rect.column\", { clientX: 107, clientY: 396 }),\n};\n\nexport const CustomTheme = {\n  name: \"Custom Theme\",\n  render: ColumnsTemplate,\n  args: {\n    ...Basic.args,\n    y2: \"Unit Cost\",\n    grouped: true,\n    theme: {\n      ...themes.dark,\n      background: \"#F3F1E5\",\n      axis: {\n        stroke: \"#969495\",\n      },\n      gridlines: {\n        stroke: \"#969495\",\n      },\n      colors: [\"#2FC2AF\", \"#433F3E\"],\n    },\n  },\n};\n"],"names":["width","height","margin","useCanvas","theme","color","argTypes","Column_stories","title","component","Column","parameters","docs","transformSource","src","replace","replaceAll","chromatic","delay","args","onClick","fn","onMouseOver","onMouseOut","leftMargin","rightMargin","topMargin","bottomMargin","data","uniqBy","sales_records_dataset","d","ColumnTemplate","jsxs","XYChart","left","right","top","bottom","animationDuration","jsx","YAxis","y","y2","y3","XAxis","x","color2","ColumnsTemplate","stacked","Columns","grouped","Basic","name","render","play","createSVGTest","clientX","clientY","Color","Canvas","createCanvasTest","Ratio","themes","light","series","opacity","Stacked","Grouped","CustomTheme","dark","background","axis","stroke","gridlines","colors","source","originalSource"],"mappings":"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"}